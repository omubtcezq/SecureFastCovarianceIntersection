%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%2345678901234567890123456789012345678901234567890123456789012345678901234567890
%        1         2         3         4         5         6         7         8

\documentclass[letterpaper, 10 pt, conference]{ieeeconf}  % Comment this line out if you need a4paper

%\documentclass[a4paper, 10pt, conference]{ieeeconf}      % Use this line for a4 paper

\IEEEoverridecommandlockouts                              % This command is only needed if 
                                                          % you want to use the \thanks command

\overrideIEEEmargins                                      % Needed to meet printer requirements.

%In case you encounter the following error:
%Error 1010 The PDF file may be corrupt (unable to open PDF file) OR
%Error 1000 An error occurred while parsing a contents stream. Unable to analyze the PDF file.
%This is a known problem with pdfLaTeX conversion filter. The file cannot be opened with acrobat reader
%Please use one of the alternatives below to circumvent this error by uncommenting one or the other
%\pdfobjcompresslevel=0
%\pdfminorversion=4

% See the \addtolength command later in the file to balance the column lengths
% on the last page of the document

% The following packages can be found on http:\\www.ctan.org
%\usepackage{graphics} % for pdf, bitmapped graphics files
%\usepackage{epsfig} % for postscript graphics files
%\usepackage{mathptmx} % assumes new font selection scheme installed
%\usepackage{times} % assumes new font selection scheme installed
%\usepackage{amsmath} % assumes amsmath package installed
%\usepackage{amssymb}  % assumes amsmath package installed

% ISAS conventions. Underlined vectors, random vectors, etc.
\usepackage{ISASmacros/isasmathmacros}
%\usepackage{ISASmacros/isastextmacros}

% Needed to display images generated with Matplotlib nicely
\usepackage{pgf}

\title{\LARGE \bf
Secure Third-party Fast Covariance Intersection Using Partially Homomorphic and Order Revealing Encryption Schemes
}

\author{Marko Ristic, Benjamin Noack, and Uwe D. Hanebeck% <-this % stops a space
\thanks{Marko Ristic, Benjamin Noack, and Uwe D. Hanebeck are with the Intelligent Sensor-Actuator-Systems Laboratory (ISAS), Institute for Anthropomatics, Karlsruhe Institute of Technology (KIT), Germany.\newline
{\tt\small \{marko.ristic,noack,uwe.hanebeck\}@kit.edu}%
}% <-this % stops a space
}

\begin{document}

\maketitle
\thispagestyle{empty}
\pagestyle{empty}

%        d8888 888               888                             888
%       d88888 888               888                             888
%      d88P888 888               888                             888
%     d88P 888 88888b.  .d8888b  888888 888d888 8888b.   .d8888b 888888
%    d88P  888 888 "88b 88K      888    888P"      "88b d88P"    888
%   d88P   888 888  888 "Y8888b. 888    888    .d888888 888      888
%  d8888888888 888 d88P      X88 Y88b.  888    888  888 Y88b.    Y88b.
% d88P     888 88888P"   88888P'  "Y888 888    "Y888888  "Y8888P  "Y888



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{abstract}

Fast covariance intersection is a widespread technique for state estimate fusion in sensor networks when cross-correlations are not known and fast computations are desired. The common requirement of sending estimates from one party to another during fusion means they do not remain private to their producing party. Current secure fusion algorithms have a reliance on encryption schemes that do not provide sufficient flexibility and as a result require, often undesired, excess communication between estimate producers. We propose a novel method of homomorphically computing the fast covariance intersection algorithm on estimates encrypted with a combination of encryption schemes. Using order revealing encryption we show how to approximate solutions to the fast covariance intersection coefficients can be computed and combined with partially homomorphic encryptions of estimates, to compute an encryption of the fused result. The described approach allows the secure fusion of any number of private estimates, making third-party cloud processing a viable option when working with sensitive state estimates, or when performing estimation over insecure networks.

\end{abstract}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 8888888          888
%   888            888
%   888            888
%   888   88888b.  888888 888d888 .d88b.
%   888   888 "88b 888    888P"  d88""88b
%   888   888  888 888    888    888  888
%   888   888  888 Y88b.  888    Y88..88P
% 8888888 888  888  "Y888 888     "Y88P"



\section{Introduction}
\begin{itemize}
   \item 
   \item Describe what will be in each following section and how the paper structure makes sense
\end{itemize}
\subsection{Notation}
\begin{itemize}
   \item Brief overview of ISAS vector and random vector notation
   \item Encryption notation, keys omitted where it's obvious from context
   \item Encryption of matrices and vectors is element-wise
   \item Real number encoding assumed in all encryption notation, all numbers are real
\end{itemize}

%  .d8888b. 8888888
% d88P  Y88b  888
% 888    888  888
% 888         888
% 888         888
% 888    888  888
% Y88b  d88P  888
%  "Y8888P" 8888888



\section{Covariance Intersection and Approximations}
\begin{itemize}
   \item Covariance intersection (CI) is a method for fusing state estimations for different sources when models and cross-correlations are not known
   \item The fused estimate and estimate covariance are commuted by \eqref{eqn:ci_cov} and \eqref{eqn:ci_estimate}
   \item Note that the estimate and estimate covariance depicted in \eqref{eqn:ci_cov} and \eqref{eqn:ci_estimate} are in the Information filter form of the popular Kalman Filter as this simplifies computation.
\end{itemize}
\begin{gather}
   \mP^{-1}=\sum_{i=0}^{n}\omega_i \mP_i^{-1} \label{eqn:ci_cov}\\
   \mP^{-1} \mean{\vec{x}} =\sum_{i=0}^{n}\omega_i \mP_i^{-1} \mean{\vec{x}}_i \label{eqn:ci_estimate}\\
\end{gather}
\begin{itemize}
   \item Where values $\omega_i$ satisfy \eqref{eqn:ci_omega_sum} and \eqref{eqn:ci_omega_bound} and are chosen in a way to minimise a property of the resulting fused estimate. 
   \item For example minimising the resulting trace would require solving \eqref{eqn:ci_trace_min}
\end{itemize}
\begin{gather}
   \omega_0 + \omega_1 + \cdots + \omega_n = 1 \label{eqn:ci_omega_sum}\\
   0 \leq \omega_i \leq 1 \label{eqn:ci_omega_bound}\\
   \argmin_{\omega_0,\dots,\omega_n} \{\tr(\mP)\} = \argmin_{\omega_0,\dots,\omega_n} \{\tr((\sum_{i=0}^{n}\omega_i \mP_i)^{-1})\} \label{eqn:ci_trace_min}
\end{gather}
\begin{itemize}
   \item Minimising a given non linear cost function such as \eqref{eqn:ci_trace_min} can be very costly computationally and has led to the development of non-iterative approximation techniques \cite{niehsenInformationFusionBased2002}, \cite{frankenImprovedFastCovariance2005}, \cite{congOrderInsensitiveSequential2016}
\end{itemize}

\subsection{Fast Covariance intersection}
\begin{itemize}
   \item The fast covariance intersection (FCI) algorithm described in \cite{niehsenInformationFusionBased2002} is a common method used for approximating the solution to \eqref{eqn:ci_trace_min} by defining a new constraint on $\omega_i$ and solving that instead.
   \item In the 2 sensor case, \eqref{eqn:ci_omega_sum} now becomes \eqref{eqn:fci_2sen_omega_sum}, and the additional requirement of \eqref{eqn:fci_2sen_eq} is also defined. Solutions are defined analytically and shown in \eqref{eqn:fci_2sen_sol}
\end{itemize}
\begin{gather}
   \omega_0 + \omega_1 = 1 \label{eqn:fci_2sen_omega_sum}\\
   \omega_0 \tr(\mP_0) - \omega_1 \tr(\mP_1) = 0 \label{eqn:fci_2sen_eq}\\
   \omega_0 = \frac{\tr(\mP_1)}{\tr(\mP_0)+\tr(\mP_1)},\ \omega_1 = \frac{\tr(\mP_0)}{\tr(\mP_0)+\tr(\mP_1)} \label{eqn:fci_2sen_sol}
\end{gather}
\begin{itemize}
   \item When extending to any number of sensors, restriction \eqref{eqn:fci_2sen_eq} is generalised to \eqref{eqn:fci_eq_big}
\end{itemize}
\begin{gather}
   \omega_i \tr(\mP_i) - \omega_j \tr(\mP_j) = 0,\ (i,j=1,2,\dots,n) \label{eqn:fci_eq_big}
\end{gather}
\begin{itemize}
   \item Equation \eqref{eqn:fci_eq_big} is highly redundant and its largest linearly independent subset can be represented with \eqref{eqn:fci_eq}.
\end{itemize}
\begin{gather}
   \omega_i \tr(\mP_i) - \omega_{i+1} \tr(\mP_{i+1}) = 0,\ (i=1,2,\dots,n) \label{eqn:fci_eq}
\end{gather}
\begin{itemize}
   \item The solution to \eqref{eqn:fci_eq} and \eqref{eqn:ci_omega_sum} can be represented as the simultaneous equations problem shown in \eqref{eqn:fci_eq_sys} where $\mathcal{P}_i = \tr(\mP_i)$
\end{itemize}
\begin{gather}
   \begin{bmatrix}
      \mathcal{P}_0 & -\mathcal{P}_1 & 0 & \cdots & 0 \\
      0 & \mathcal{P}_1 & -\mathcal{P}_2 & \cdots & 0 \\
      \vdots & \vdots & \vdots & \ddots & \vdots & \\
      0 & \cdots & 0 & \mathcal{P}_{n-1} & -\mathcal{P}_n \\
      1 & \cdots & 1 & 1 & 1 &
   \end{bmatrix}
   \begin{bmatrix}
      \omega_0 \\
      \omega_0 \\
      \vdots \\
      \omega_{n-1} \\
      \omega_n
   \end{bmatrix}
   =
   \begin{bmatrix}
      0 \\
      0 \\
      \vdots \\
      0 \\
      1
   \end{bmatrix} \label{eqn:fci_eq_sys}
\end{gather}
\begin{itemize}
   \item Our goal for secure fusion is to solve \eqref{eqn:ci_cov}, \eqref{eqn:ci_estimate} and \eqref{eqn:fci_eq_sys} using only encryptions from each sensor $i$.
\end{itemize}

% 8888888b.  888    888 8888888888       .d8888b.            .d88888b.  8888888b.  8888888888
% 888   Y88b 888    888 888             d88P  "88b          d88P" "Y88b 888   Y88b 888
% 888    888 888    888 888             Y88b. d88P          888     888 888    888 888
% 888   d88P 8888888888 8888888          "Y8888P"           888     888 888   d88P 8888888
% 8888888P"  888    888 888             .d88P88K.d88P       888     888 8888888P"  888
% 888        888    888 888             888"  Y888P"        888     888 888 T88b   888
% 888        888    888 888             Y88b .d8888b        Y88b. .d88P 888  T88b  888
% 888        888    888 8888888888       "Y8888P" Y88b       "Y88888P"  888   T88b 8888888888



\section{Homomorphic and Order Revealing Encryption}
\begin{itemize}
   \item To achieve a secure solution to the FCI fusion problem, we have focused on two types of function providing encryption schemes. 
   \item Additive partially homomorphic encryption (PHE) schemes such ones defined in \cite{paillierPublicKeyCryptosystemsBased1999} and \cite{goldwasserProbabilisticEncryption1984a} provide a homomorphic addition operation as shown in \eqref{eqn:phe_eq}.
   \item Order revealing encryption (ORE) schemes such as those in \cite{chenettePracticalOrderRevealingEncryption2016} and \cite{lewiOrderRevealingEncryptionNew2016} provide a function which allows the comparison of encrypted values as shown in \eqref{eqn:ore_eq}
\end{itemize}
\begin{gather}
   \mathcal{E}(a) \oplus \mathcal{E}(b) = \mathcal{E}(a+b) \label{eqn:phe_eq}\\
   f(\mathcal{E}(a), \mathcal{E}(b)) = cmp(a, b) \label{eqn:ore_eq}
\end{gather}

\subsection{Additive Partially Homomorphic Encryption}
\begin{itemize}
   \item We have used the Paillier encryption scheme described in \cite{paillierPublicKeyCryptosystemsBased1999} for the computation of the FCI due to its speed and implementation simplicity.
   \item The Paillier encryption scheme is a public key scheme, where encryptions are made with a public key but only the secret key holder can decrypt them.
   \item It provides two homomorphic operations on encrypted data, shown in \eqref{eqn:paillier_add} and \eqref{eqn:paillier_mult}. The modulus $N$ is computed as a product of 2 large primes which are part of the secret key.
\end{itemize}
\begin{gather}
   \mathcal{E}(a)\mathcal{E}(b) \pmod{N} = \mathcal{E}(a + b \pmod{N}) \label{eqn:paillier_add}\\
   \mathcal{E}(a)^c \pmod{N} = \mathcal{E}(ca \pmod{N}),\ c \in \mathbb{Z}_N \label{eqn:paillier_mult}
\end{gather}
\begin{itemize}
   \item Encrypted numbers must be less than $N$, and negative numbers can be handled by storing integers in ``two's complement'' binary form, that is taking $[0, \frac{N}{2})$ as all possible positive numbers, and $[\frac{N}{2}, N)$ as the decreasing negative integers.
\end{itemize}

\subsection{Real Number Encoding for Homomorphic Encryption}
\begin{itemize}
   \item The Paillier encryption scheme can only encrypt, add, and multiply with integers. Due to the prevalence of real number values in sensor outputs and estimation processes, some form of encoding is required for these numbers to be encrypted.
   \item Real numbers, typically stored as floating-point numbers in sensor hardware, are converted to integers using the ``Q'' number format. A real number $a$ can be encoded to an integer $e$ using \eqref{eqn:qmn}, where the largest encodable real number has an integer part of $i$ bits. Integer bits $i$ and fractional bits $f$ are chosen such that the largest encoded value can still be encrypted.
\end{itemize}
\begin{gather}
   e = 
   \begin{cases}
      \floor{2^f a} & a<2^i\\
      \floor{2^f (2^i - a)} & a\geq 2^i\\
   \end{cases}\label{eqn:qmn}
\end{gather}
\begin{itemize}
   \item While the encoded real numbers are consistent under addition, multiplication by constants requires that a factor of $\frac{1}{2^f}$ be removed. 
   \item Since division is not supported under the encryption scheme, the number of multiplications performed on an encrypted value must be bounded and handled when decoding. This also decreases the size of the largest encodable real number that can be decoded correctly.
   \item In our case, only a single multiplication is required, and decoding of an integer $e$ to a real number $f$ is performed by \eqref{eqn:qmn_mult_decode}.
\end{itemize}
\begin{gather}
   a = 
   \begin{cases}
      \frac{e}{2^f} & e<2^{(i+f)}\\
      \frac{e}{2^{2f}} & e\geq 2^{(i+f)}\\
   \end{cases}\label{eqn:qmn_mult_decode}
\end{gather}

\subsection{Left-Right Order Revealing Encryption}
\begin{itemize}
   \item For the ORE scheme we have considered in particular the Left-Right encryption scheme described in \cite{lewiOrderRevealingEncryptionNew2016} which will help in preventing information leakage as described in section \ref{sec:secfci}.
   \item The key difference between this scheme and others is how numbers are compared. Left-Right encryption allows any number to be encrypted as either a ``Left'' or ``Right'' encryption, but only a ``Left'' encryption can be compared with a ``Right'' encryption. The provided function of the encryption scheme are shown in \eqref{eqn:lewi_eqs}
   \item The ORE scheme described requires a single symmetric key for the encryption of either ``Left'' or ``Right'' encryptions, which can be compared without any key.
\end{itemize}
\begin{equation}
   \begin{gathered} \label{eqn:lewi_eqs}
      encrypt^L_{ORE}(sk, x) = \mathcal{E}^L_{ORE}(x) \\
      encrypt^R_{ORE}(sk, y) = \mathcal{E}^R_{ORE}(y) \\
      compare_{ORE}(\mathcal{E}^L_{ORE}(x),\ \mathcal{E}^R_{ORE}(y)) = cmp(x, y)
   \end{gathered}
\end{equation}


%  .d8888b.                    8888888888 .d8888b. 8888888
% d88P  Y88b                   888       d88P  Y88b  888
% Y88b.                        888       888    888  888
%  "Y888b.    .d88b.   .d8888b 8888888   888         888
%     "Y88b. d8P  Y8b d88P"    888       888         888
%       "888 88888888 888      888       888    888  888
% Y88b  d88P Y8b.     Y88b.    888       Y88b  d88P  888
%  "Y8888P"   "Y8888   "Y8888P 888        "Y8888P" 8888888



\section{Secure Fast Covariance Intersection with 2 Sensors} \label{sec:secfci}
\begin{itemize}
   \item First we will consider the 2 sensor case of secure FCI (SecFCI), before extending it to any number of sensors in section \ref{sec:multi_secfci}. We consider sensor 0 which produces the estimate $\mean{\vec{x}_0}$ and covariance $\mP_0$, and similarly sensor 1 producing $\mean{\vec{x}}_1$ and $\mP_1$.
   \item From \eqref{eqn:ci_cov} and \eqref{eqn:ci_estimate} we can see that CI is particularly suited to PHE schemes. Sensor encrypted estimates and covariances can be combined additively using \eqref{eqn:paillier_add} and \eqref{eqn:paillier_mult}. The equations using the Paillier encrtyption systems to compute CI are given in \eqref{eqn:paillier_ci_cov} and \eqref{eqn:paillier_ci_estimate}.
\end{itemize}
\begin{gather}
   \mathcal{E}(\mP) = \mathcal{E}(\mP_0)^{\omega_0}\mathcal{E}(\mP_1)^{(1 -\omega_0)} \label{eqn:paillier_ci_cov}\\
   \mathcal{E}(\mP\mean{\vec{x}}) = \mathcal{E}(\mP_0\mean{\vec{x}}_0)^{\omega_0}\mathcal{E}(\mP_1\mean{\vec{x}}_1)^{(1 - \omega_0)} \label{eqn:paillier_ci_estimate}\\
\end{gather}
\begin{itemize}
   \item What remains is the computation of the parameter $\omega$. The FCI solutions for the 2 sensor case given by \eqref{eqn:fci_2sen_sol}, cannot be computed with PHE encryptions due to the required division.
   \item Instead we discretise $\omega$ to steps of some size $s<1$ such that $s$ divides 1, and use the ORE scheme to compute \eqref{eqn:fci_2sen_eq}. Each sensor discretises $\omega$ and multiplies each discretisation with $\tr(\mP^{-1})$ of its current coveriance $\mP$. Each result is then encrypted with the Left-Right ORE scheme.
   \item Sensor 0 encrypts using the Left scheme as shown in \eqref{eqn:sen0_ore_list} and similarly for sensor 1 using Right encryption in \eqref{eqn:sen1_ore_list}.
\end{itemize}
\begin{gather}
   [\mathcal{E}^L_{ORE}(\omega\tr(\mP^{-1}_0)),\ \omega \in [0,0+s,\dots,1-s,1]] \label{eqn:sen0_ore_list} \\
   [\mathcal{E}^R_{ORE}(\omega\tr(\mP^{-1}_1)),\ \omega \in [0,0+s,\dots,1-s,1]] \label{eqn:sen1_ore_list}
\end{gather}
\begin{itemize}
   \item The two ordered encrypted lists \eqref{eqn:sen0_ore_list} and \eqref{eqn:sen1_ore_list} are recieved at the fusion center, and used to estimate $\omega$.
   \item To compute the FCI value for $\omega$ we want the intersection between the two lines described by $\tr(\mP_0)\omega$ and $\tr(\mP_1)(1-\omega)$. Note that in the 2 sensor case, the discretised list of $\tr(\mP_i)(1-\omega)$ can be obtained by simply reversing the list for $\tr(\mP_i)\omega$.
   \item Fig. \ref{fig:2_sensor_sol} shows the list from sensor 0 and the reversed list of sensor 1 plotted over $\omega$ with a step size $s=0.1$. Since values from one list can be compared with those from the other using the ORE operations described in \eqref{eqn:lewi_eqs}, the exact intersection can be approximated in $O(log(\frac{1}{s}))$ steps by performing a binary search.
\end{itemize}
\begin{figure}[htb]
   \begin{center}
      \input{images/2_sensors.pgf}
   \end{center}
   \caption{Approximation of $\omega_0$ with discretisation step size $s=0.1$. Only comparisons of the ordered values sent from either estimator are used.}
   \label{fig:2_sensor_sol}
\end{figure}
\begin{itemize}
   \item Once the two consecutive differing comparisons from vertically aligned points in \ref{fig:2_sensor_sol} are found, the FCI $\omega$ can be approximated by taking the middle value between the two bounds. This is computed simply with \eqref{eqn:secfci_2sen_omega}.
   \item In the case where the comparison function from the ORE scheme returns an exact equality, the exact value of $\omega$ is known and can be taken as the approximation.
\end{itemize}
\begin{gather}
   \omega_0'=\frac{1}{2}(a + b),\ \omega_1' = (1-\omega_0) \label{eqn:secfci_2sen_omega}
\end{gather}

\section{Multi-sensor Secure Fast Covariance Intersection} \label{sec:multi_secfci}
\begin{itemize}
   \item In the multi sensor case, the same method of using PHE encryptions of each sensor's estimate and covariance is used to compute \eqref{eqn:ci_cov} and \eqref{eqn:ci_estimate}. Again we are left with the task of computing the weights $\omega_i$.
   \item For the ease of diagrams we will demonstrate how this can be done in the three sensor case, and provide equations for the $n$ sensor case.
   \item Computing the $\omega_i$ values for FCI in the three sensor case requires the solving of \eqref{eqn:3_sensor_partial_sol_1} and \eqref{eqn:3_sensor_partial_sol_2}.
\end{itemize}
\begin{gather}
   \omega_0 \tr(\mP_0) - \omega_1 \tr(\mP_1) = 0 \label{eqn:3_sensor_partial_sol_1}\\
   \omega_1 \tr(\mP_1) - \omega_2 \tr(\mP_2) = 0 \label{eqn:3_sensor_partial_sol_2}
\end{gather}
\begin{itemize}
   \item Our method solves the multiple equations by approximating the partial solutions of each, similarly to the two sensor case, and solving the newly obtained, unencrypted, multiple equations.
   \item Partial solutions are treated as hyperplanes on the possible solutions space, and their intersection gives the solution to the mujltiple equations. We consider each $\omega_i$ a dimension, and defined hyperplane points as $(\omega_0, \omega_1, \dots, \omega_n)$ accordingly.
   \item Solving \eqref{eqn:3_sensor_partial_sol_1} as was done in the two sensor case with \eqref{eqn:sen0_ore_list} and \eqref{eqn:sen1_ore_list}, gives the partial solution of \eqref{eqn:3_sensor_partial_sol_1} when $\omega_2=0$ in the three sensor case. The other defining points of the partial solution of $\omega_0$ and $\omega_1$ are obtained when each remaining $\omega_i=1$. In the three sensor case, this gives one aditional point; (0,0,1). In Fig. \ref{fig:3_sensor_partial_sol} the partial solution of \eqref{eqn:3_sensor_partial_sol_1} has been plotted over the solution space defined by \eqref{eqn:ci_omega_sum} and \eqref{eqn:ci_omega_bound} when $n=2$.
\end{itemize}

\begin{figure}[tb]
   \begin{center}
      \input{images/partial_sol1.pgf}
   \end{center}
   \caption{Partial solution from equation \eqref{eqn:3_sensor_partial_sol_1} plotted on the plane of all possible values of $\omega_0$, $\omega_1$, and $\omega_2$.}
   \label{fig:3_sensor_partial_sol}
\end{figure}

\begin{itemize}
   \item Next we compute the partial solution for $\omega_1$, and $\omega_2$ in the same way. The additional known point defining this partial solution space is $(1,0,0)$. Fig \ref{fig:3_sensor_partial_sols} shows both partial solutions plotted over the solution space. Note that the intersection of the partial solutions gives the approximate solution for the FCI $\omega$ values.
\end{itemize}

\begin{figure}[tb]
   \begin{center}
      \input{images/partial_sols.pgf}
   \end{center}
   \caption{Partial solutions from equations \eqref{eqn:3_sensor_partial_sol_1} and \eqref{eqn:3_sensor_partial_sol_2} plotted on the plane of all possible values of $\omega_0$, $\omega_1$, and $\omega_2$.}
   \label{fig:3_sensor_partial_sols}
\end{figure}

\begin{itemize}
   \item The partial solutions provide $n-1$ hyperplanes, each of dimension $n-2$. When computing the partial solutions' intersection, we define hyperplanes of dimension $n-1$ for each partial solution, by adding a dimension perpendicular to the solution space. This can be seen in Fig. \ref{fig:3sen_planes}.
\end{itemize}

\begin{figure}[tb]
   \begin{center}
      \input{images/partial_sol_planes.pgf}
   \end{center}
   \caption{Partial solutions from fig. \ref{fig:3_sensor_partial_sols} plotted as planes perpendicular to the plane of possible solutions. Intersection point gives solution values of $\omega_i$ for Fast Covariance Intersection.}
   \label{fig:3sen_planes}
\end{figure}

\begin{itemize}
   \item Each partial solution in the three sensor case is therefore now defined as a plane of the form \eqref{eqn:3sen_plane_eq}, where $x,y,z$ represent the $\omega_0,\omega_1,\omega_2$ axes.
\end{itemize}
\begin{gather}
   a_0x + a_1y +a_2z + d = 0 \label{eqn:3sen_plane_eq}
\end{gather}
\begin{itemize}
   \item We now have $n$ equations, one of which is the solution space equation, and $n$ values of $'omega_i$ to solve for. In the three sensor case, the solution to the linear problem \eqref{eqn:3sen_plane_sol_eq} provides the approximate solution to each $\omega_i$ value in FCI.
\end{itemize}

\begin{gather}
   \begin{bmatrix}
      a_0^0 & a_1^0 & a_2^0 \\
      a_0^1 & a_1^1 & a_2^1 \\
      1 & 1 & 1
   \end{bmatrix}
   \begin{bmatrix}
      \omega_0 \\
      \omega_1 \\
      \omega_2
   \end{bmatrix}
   =
   \begin{bmatrix}
      d^0 \\
      d^1 \\
      1
   \end{bmatrix} \label{eqn:3sen_plane_sol_eq}
\end{gather}
\begin{itemize}
   \item In the case of $n$ sonsors, hyperplanes are defined similarly, and produce the linear equation \eqref{eqn:hyperplane_sol_eq}.
\end{itemize}
\begin{gather}
   \begin{bmatrix}
      a_0^0 & a_1^0 & \cdots & a_n^0 \\
      a_0^1 & a_1^1 & \cdots & a_n^1 \\
      \vdots & \vdots & \ddots & \vdots \\
      a_0^n & a_1^n & \cdots & a_n^{n-1} \\
      1 & 1 & \cdots & 1
   \end{bmatrix}
   \begin{bmatrix}
      \omega_0 \\
      \omega_1 \\
      \vdots \\
      \omega_{n-1} \\
      \omega_n
   \end{bmatrix}
   =
   \begin{bmatrix}
      d^0 \\
      d^1 \\
      \vdots \\
      d^{n-1} \\
      1
   \end{bmatrix} \label{eqn:hyperplane_sol_eq}
\end{gather}
\begin{itemize}
   \item Each of the partial solutions is approximated using consecutive sensor lists encrypted with ORE. This allows ``Left-Right'' ORE to still be used, by alternating which sensor uses which encryption.
   \item The required ordered lists sent from each sensor $i$ are described by \eqref{eqn:sensor_lists}.
\end{itemize}
\begin{equation}
   \begin{gathered} \label{eqn:sensor_lists}
      [\mathcal{E}^L_{ORE}(\omega\tr(\mP^{-1}_i)),\ \omega \in [0,0+s,\dots,1-s,1]],\ i\text{ is even} \\
      [\mathcal{E}^R_{ORE}(\omega\tr(\mP^{-1}_i)),\ \omega \in [0,0+s,\dots,1-s,1]],\ i\text{ is odd}
   \end{gathered}
\end{equation}

% 8888888b.                            888 888
% 888   Y88b                           888 888
% 888    888                           888 888
% 888   d88P .d88b.  .d8888b  888  888 888 888888 .d8888b
% 8888888P" d8P  Y8b 88K      888  888 888 888    88K
% 888 T88b  88888888 "Y8888b. 888  888 888 888    "Y8888b.
% 888  T88b Y8b.          X88 Y88b 888 888 Y88b.       X88
% 888   T88b "Y8888   88888P'  "Y88888 888  "Y888  88888P'



\section{Simulation Results}
\begin{itemize}
   \item A simulation was implemented to demonstrate the accuracy of SecFCI fusion when compared to traditional FCI fusion.
   \item A constant-speed linear process model was used, with two independant cartesion sensors making white Gaussian noisy measurements of the ground truth. Both sensors ran linear Kalman Filters \cite{} on their own measumrents producing a local estimate and estimate covariance. 
   \item Sensors provided their estimates to a fusion center both in unencrypted form, and encrypted form. Unencrypted estimates consisted of only the estimates $\mean{\vec{x}}_i$ and $\mP_i$, while encrypted estimates were composed of PHE encryption of the estimate in the information filter form, $\mathcal{E}(\mP^{-1}_i)$ and $\mathcal{E}(\mP^{-1}_i\mean{\vec{x}}_i)$, and the ordered ORE encryptions defined in \eqref{eqn:sensor_lists}.
   \item The fusion center then performed FCI fusion on the unencrypted estimates and our SecFCI fusion on the encrypted information. A portion of the trajectory and fused estimates are shown in Fig. \ref{fig:fci_secfci_traj}.
\end{itemize}

\begin{figure}[tb]
   \begin{center}
      \input{images/fci_secfci_cmp.pgf}
   \end{center}
   \caption{Tracking simulation comparing Fast Covariance Intersection and our Secure Fast Covariance Intersection fusion methods.}
   \label{fig:fci_secfci_traj}
\end{figure}

\begin{itemize}
   \item Fig. \ref{fig:fci_secfci_trace} plots the resulting fused estimate covariances' traces over the course of the simulation. Approximatation of exact FCI fusion results in slightly differing covariance traces as expected. In our simulation the resulting covariance trace of the SecFCI fusion algorithm is consistently higher than that of FCI fusion. However, this is not always the case, due to FCI itself computing an approximation to the trace minimising choice of $\omega$.
   \item In Fig. \ref{fig:fci_secfci_omegas} FCI and SecFCI values for each $\omega_i$ are plotted over the duration of a portion of the trajectory. SecFCI values for $\omega_i$ stay constant over time as can be expected due to the discretisation of partial solution estimates.
\end{itemize}

\begin{figure}[tb]
   \begin{center}
      \input{images/traces_cmp.pgf}
   \end{center}
   \caption{Plot showing the fused estimate covariance trace throughout a tracking simulation, for both Fast Covariance Intersection and our Secure Fast Covariance Intersection}
   \label{fig:fci_secfci_trace}
\end{figure}

\begin{figure}[tb]
   \begin{center}
      \input{images/omegas_cmp.pgf}
   \end{center}
   \caption{Plot showing the difference in $\omega_i$ values between Fast Covariance Intersection and our Secure Fast Covariance Intersection, throughout a tracking simulation.}
   \label{fig:fci_secfci_omegas}
\end{figure}

%  .d8888b.
% d88P  Y88b
% 888    888
% 888         .d88b.  88888b.   .d8888b
% 888        d88""88b 888 "88b d88P"
% 888    888 888  888 888  888 888
% Y88b  d88P Y88..88P 888  888 Y88b.    d8b
%  "Y8888P"   "Y88P"  888  888  "Y8888P Y8P



% \section{Conclusion}
% \begin{itemize}
%    \item Fast Covariance Intesection is a commonly used method for the approximation of the non-linear optimisation problem of Covariance Intersection fusion, but requires the sharing of local sensor estimates with each other, or a centralised fusion server. We have proposed an approximation to the FCI which can be computed given only encrypted estimate and estimate covariance information from each sensor.
%    \item Uses for a secure fusion algorithm can be found in various security critical applications, or with untrusted networks and fusion centers.
%    \item In future work, we would like to assess the estimate data leakage implications of ORE encrypted covariance information, and produce security assumptions and proofs for the signal processing technique.
%    \item We are also interested in how the computational performance of SecFCi may compare with alternative FHE and real number encoding techniques.
% \end{itemize}


% \vspace{2cm}


% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{INTRODUCTION}

% This template provides authors with most of the formatting specifications needed for preparing electronic versions of their papers. All standard paper components have been specified for three reasons: (1) ease of use when formatting individual papers, (2) automatic compliance to electronic requirements that facilitate the concurrent or later production of electronic products, and (3) conformity of style throughout a conference proceedings. Margins, column widths, line spacing, and type styles are built-in; examples of the type styles are provided throughout this document and are identified in italic type, within parentheses, following the example. Some components, such as multi-leveled equations, graphics, and tables are not prescribed, although the various table text styles are provided. The formatter will need to create these components, incorporating the applicable criteria that follow.

% \section{PROCEDURE FOR PAPER SUBMISSION}

% \subsection{Selecting a Template (Heading 2)}

% First, confirm that you have the correct template for your paper size. This template has been tailored for output on the US-letter paper size. 
% It may be used for A4 paper size if the paper size setting is suitably modified.

% \subsection{Maintaining the Integrity of the Specifications}

% The template is used to format your paper and style the text. All margins, column widths, line spaces, and text fonts are prescribed; please do not alter them. You may note peculiarities. For example, the head margin in this template measures proportionately more than is customary. This measurement and others are deliberate, using specifications that anticipate your paper as one part of the entire proceedings, and not as an independent document. Please do not revise any of the current designations

% \section{MATH}

% Before you begin to format your paper, first write and save the content as a separate text file. Keep your text and graphic files separate until after the text has been formatted and styled. Do not use hard tabs, and limit use of hard returns to only one return at the end of a paragraph. Do not add any kind of pagination anywhere in the paper. Do not number text heads-the template will do that for you.

% Finally, complete content and organizational editing before formatting. Please take note of the following items when proofreading spelling and grammar:

% \subsection{Abbreviations and Acronyms} Define abbreviations and acronyms the first time they are used in the text, even after they have been defined in the abstract. Abbreviations such as IEEE, SI, MKS, CGS, sc, dc, and rms do not have to be defined. Do not use abbreviations in the title or heads unless they are unavoidable.

% \subsection{Units}

% \begin{itemize}

% \item Use either SI (MKS) or CGS as primary units. (SI units are encouraged.) English units may be used as secondary units (in parentheses). An exception would be the use of English units as identifiers in trade, such as Ò3.5-inch disk driveÓ.
% \item Avoid combining SI and CGS units, such as current in amperes and magnetic field in oersteds. This often leads to confusion because equations do not balance dimensionally. If you must use mixed units, clearly state the units for each quantity that you use in an equation.
% \item Do not mix complete spellings and abbreviations of units: ÒWb/m2Ó or Òwebers per square meterÓ, not Òwebers/m2Ó.  Spell out units when they appear in text: Ò. . . a few henriesÓ, not Ò. . . a few HÓ.
% \item Use a zero before decimal points: Ò0.25Ó, not Ò.25Ó. Use Òcm3Ó, not ÒccÓ. (bullet list)

% \end{itemize}


% \subsection{Equations}

% The equations are an exception to the prescribed specifications of this template. You will need to determine whether or not your equation should be typed using either the Times New Roman or the Symbol font (please no other font). To create multileveled equations, it may be necessary to treat the equation as a graphic and insert it into the text after your paper is styled. Number equations consecutively. Equation numbers, within parentheses, are to position flush right, as in (1), using a right tab stop. To make your equations more compact, you may use the solidus ( / ), the exp function, or appropriate exponents. Italicize Roman symbols for quantities and variables, but not Greek symbols. Use a long dash rather than a hyphen for a minus sign. Punctuate equations with commas or periods when they are part of a sentence, as in

% $$
% \alpha + \beta = \chi \eqno{(1)}
% $$

% Note that the equation is centered using a center tab stop. Be sure that the symbols in your equation have been defined before or immediately following the equation. Use Ò(1)Ó, not ÒEq. (1)Ó or Òequation (1)Ó, except at the beginning of a sentence: ÒEquation (1) is . . .Ó

% \subsection{Some Common Mistakes}
% \begin{itemize}


% \item The word ÒdataÓ is plural, not singular.
% \item The subscript for the permeability of vacuum ?0, and other common scientific constants, is zero with subscript formatting, not a lowercase letter ÒoÓ.
% \item In American English, commas, semi-/colons, periods, question and exclamation marks are located within quotation marks only when a complete thought or name is cited, such as a title or full quotation. When quotation marks are used, instead of a bold or italic typeface, to highlight a word or phrase, punctuation should appear outside of the quotation marks. A parenthetical phrase or statement at the end of a sentence is punctuated outside of the closing parenthesis (like this). (A parenthetical sentence is punctuated within the parentheses.)
% \item A graph within a graph is an ÒinsetÓ, not an ÒinsertÓ. The word alternatively is preferred to the word ÒalternatelyÓ (unless you really mean something that alternates).
% \item Do not use the word ÒessentiallyÓ to mean ÒapproximatelyÓ or ÒeffectivelyÓ.
% \item In your paper title, if the words Òthat usesÓ can accurately replace the word ÒusingÓ, capitalize the ÒuÓ; if not, keep using lower-cased.
% \item Be aware of the different meanings of the homophones ÒaffectÓ and ÒeffectÓ, ÒcomplementÓ and ÒcomplimentÓ, ÒdiscreetÓ and ÒdiscreteÓ, ÒprincipalÓ and ÒprincipleÓ.
% \item Do not confuse ÒimplyÓ and ÒinferÓ.
% \item The prefix ÒnonÓ is not a word; it should be joined to the word it modifies, usually without a hyphen.
% \item There is no period after the ÒetÓ in the Latin abbreviation Òet al.Ó.
% \item The abbreviation Òi.e.Ó means Òthat isÓ, and the abbreviation Òe.g.Ó means Òfor exampleÓ.

% \end{itemize}


% \section{USING THE TEMPLATE}

% Use this sample document as your LaTeX source file to create your document. Save this file as {\bf root.tex}. You have to make sure to use the cls file that came with this distribution. If you use a different style file, you cannot expect to get required margins. Note also that when you are creating your out PDF file, the source file is only part of the equation. {\it Your \TeX\ $\rightarrow$ PDF filter determines the output file size. Even if you make all the specifications to output a letter file in the source - if your filter is set to produce A4, you will only get A4 output. }

% It is impossible to account for all possible situation, one would encounter using \TeX. If you are using multiple \TeX\ files you must make sure that the ``MAIN`` source file is called root.tex - this is particularly important if your conference is using PaperPlaza's built in \TeX\ to PDF conversion tool.

% \subsection{Headings, etc}

% Text heads organize the topics on a relational, hierarchical basis. For example, the paper title is the primary text head because all subsequent material relates and elaborates on this one topic. If there are two or more sub-topics, the next level head (uppercase Roman numerals) should be used and, conversely, if there are not at least two sub-topics, then no subheads should be introduced. Styles named ÒHeading 1Ó, ÒHeading 2Ó, ÒHeading 3Ó, and ÒHeading 4Ó are prescribed.

% \subsection{Figures and Tables}

% Positioning Figures and Tables: Place figures and tables at the top and bottom of columns. Avoid placing them in the middle of columns. Large figures and tables may span across both columns. Figure captions should be below the figures; table heads should appear above the tables. Insert figures and tables after they are cited in the text. Use the abbreviation ÒFig. 1Ó, even at the beginning of a sentence.

% \begin{table}[h]
% \caption{An Example of a Table}
% \label{table_example}
% \begin{center}
% \begin{tabular}{|c||c|}
% \hline
% One & Two\\
% \hline
% Three & Four\\
% \hline
% \end{tabular}
% \end{center}
% \end{table}


%    \begin{figure}[thpb]
%       \centering
%       \framebox{\parbox{3in}{We suggest that you use a text box to insert a graphic (which is ideally a 300 dpi TIFF or EPS file, with all fonts embedded) because, in an document, this method is somewhat more stable than directly inserting a picture.
% }}
%       %\includegraphics[scale=1.0]{figurefile}
%       \caption{Inductance of oscillation winding on amorphous
%        magnetic core versus DC bias magnetic field}
%       \label{figurelabel}
%    \end{figure}
   

% Figure Labels: Use 8 point Times New Roman for Figure labels. Use words rather than symbols or abbreviations when writing Figure axis labels to avoid confusing the reader. As an example, write the quantity ÒMagnetizationÓ, or ÒMagnetization, MÓ, not just ÒMÓ. If including units in the label, present them within parentheses. Do not label axes only with units. In the example, write ÒMagnetization (A/m)Ó or ÒMagnetization {A[m(1)]}Ó, not just ÒA/mÓ. Do not label axes with a ratio of quantities and units. For example, write ÒTemperature (K)Ó, not ÒTemperature/K.Ó

% \section{CONCLUSIONS}

% A conclusion section is not required. Although a conclusion may review the main points of the paper, do not replicate the abstract as the conclusion. A conclusion might elaborate on the importance of the work or suggest applications and extensions. 

% \addtolength{\textheight}{-12cm}   % This command serves to balance the column lengths
%                                   % on the last page of the document manually. It shortens
%                                   % the textheight of the last page by a suitable amount.
%                                   % This command does not take effect until the next page
%                                   % so it should come on the page before the last. Make
%                                   % sure that you do not shorten the textheight too much.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section*{APPENDIX}

% Appendixes should appear before the acknowledgment.

% \section*{ACKNOWLEDGMENT}

% The preferred spelling of the word ÒacknowledgmentÓ in America is without an ÒeÓ after the ÒgÓ. Avoid the stilted expression, ÒOne of us (R. B. G.) thanks . . .Ó  Instead, try ÒR. B. G. thanksÓ. Put sponsor acknowledgments in the unnumbered footnote on the first page.



% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% References are important to the reader; therefore, each citation must be complete and correct. If at all possible, references should be commonly available publications.

\bibliographystyle{IEEEtran}
\bibliography{IEEEtranBST/IEEEabrv,BibTeX/secure_FCI_cdc2020}

% \begin{thebibliography}{99}

% \bibitem{c1} G. O. Young, ÒSynthetic structure of industrial plastics (Book style with paper title and editor),Ó 	in Plastics, 2nd ed. vol. 3, J. Peters, Ed.  New York: McGraw-Hill, 1964, pp. 15Ð64.
% \bibitem{c2} W.-K. Chen, Linear Networks and Systems (Book style).	Belmont, CA: Wadsworth, 1993, pp. 123Ð135.
% \bibitem{c3} H. Poor, An Introduction to Signal Detection and Estimation.   New York: Springer-Verlag, 1985, ch. 4.
% \bibitem{c4} B. Smith, ÒAn approach to graphs of linear forms (Unpublished work style),Ó unpublished.
% \bibitem{c5} E. H. Miller, ÒA note on reflector arrays (Periodical styleÑAccepted for publication),Ó IEEE Trans. Antennas Propagat., to be publised.
% \bibitem{c6} J. Wang, ÒFundamentals of erbium-doped fiber amplifiers arrays (Periodical styleÑSubmitted for publication),Ó IEEE J. Quantum Electron., submitted for publication.
% \bibitem{c7} C. J. Kaufman, Rocky Mountain Research Lab., Boulder, CO, private communication, May 1995.
% \bibitem{c8} Y. Yorozu, M. Hirano, K. Oka, and Y. Tagawa, ÒElectron spectroscopy studies on magneto-optical media and plastic substrate interfaces(Translation Journals style),Ó IEEE Transl. J. Magn.Jpn., vol. 2, Aug. 1987, pp. 740Ð741 [Dig. 9th Annu. Conf. Magnetics Japan, 1982, p. 301].
% \bibitem{c9} M. Young, The Techincal Writers Handbook.  Mill Valley, CA: University Science, 1989.
% \bibitem{c10} J. U. Duncombe, ÒInfrared navigationÑPart I: An assessment of feasibility (Periodical style),Ó IEEE Trans. Electron Devices, vol. ED-11, pp. 34Ð39, Jan. 1959.
% \bibitem{c11} S. Chen, B. Mulgrew, and P. M. Grant, ÒA clustering technique for digital communications channel equalization using radial basis function networks,Ó IEEE Trans. Neural Networks, vol. 4, pp. 570Ð578, July 1993.
% \bibitem{c12} R. W. Lucky, ÒAutomatic equalization for digital communication,Ó Bell Syst. Tech. J., vol. 44, no. 4, pp. 547Ð588, Apr. 1965.
% \bibitem{c13} S. P. Bingulac, ÒOn the compatibility of adaptive controllers (Published Conference Proceedings style),Ó in Proc. 4th Annu. Allerton Conf. Circuits and Systems Theory, New York, 1994, pp. 8Ð16.
% \bibitem{c14} G. R. Faulhaber, ÒDesign of service systems with priority reservation,Ó in Conf. Rec. 1995 IEEE Int. Conf. Communications, pp. 3Ð8.
% \bibitem{c15} W. D. Doyle, ÒMagnetization reversal in films with biaxial anisotropy,Ó in 1987 Proc. INTERMAG Conf., pp. 2.2-1Ð2.2-6.
% \bibitem{c16} G. W. Juette and L. E. Zeffanella, ÒRadio noise currents n short sections on bundle conductors (Presented Conference Paper style),Ó presented at the IEEE Summer power Meeting, Dallas, TX, June 22Ð27, 1990, Paper 90 SM 690-0 PWRS.
% \bibitem{c17} J. G. Kreifeldt, ÒAn analysis of surface-detected EMG as an amplitude-modulated noise,Ó presented at the 1989 Int. Conf. Medicine and Biological Engineering, Chicago, IL.
% \bibitem{c18} J. Williams, ÒNarrow-band analyzer (Thesis or Dissertation style),Ó Ph.D. dissertation, Dept. Elect. Eng., Harvard Univ., Cambridge, MA, 1993. 
% \bibitem{c19} N. Kawasaki, ÒParametric study of thermal and chemical nonequilibrium nozzle flow,Ó M.S. thesis, Dept. Electron. Eng., Osaka Univ., Osaka, Japan, 1993.
% \bibitem{c20} J. P. Wilkinson, ÒNonlinear resonant circuit devices (Patent style),Ó U.S. Patent 3 624 12, July 16, 1990. 






% \end{thebibliography}




\end{document}
